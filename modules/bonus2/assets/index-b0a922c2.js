import {
  c as r,
  i as t,
  m as S,
  e as k,
  h as U,
  s as N,
  d as ce,
  t as c,
} from "./web-13cf6287.js";
import {
  u as ue,
  W as me,
  e as b,
  B as L,
  p as pe,
  i as be,
  I as xe,
  s as T,
  n as M,
  X as fe,
  T as he,
  h as ve,
  c as we,
  m as $e,
} from "./manifest-cc1f4445.js";
import { t as l } from "./i18n-023baa0d.js";
import {
  b as B,
  j as _e,
  d as ye,
  c as W,
  S as A,
  F as X,
} from "./solid-js-38561dfe.js";
import { D as Ce } from "./deposit-bonus-rule-e5dffd6e.js";
import { I as Se } from "./imgX-b51457ba.js";
import { c as ke } from "./_createAggregator-ddc6558e.js";
import "./center-loading-04d2fcbc.js";
import "./index-96ed660e.js";
import "./_baseFor-3fee30d6.js";
import "./_MapCache-1fb5cc44.js";
import "./_baseGetTag-c2e287b9.js";
import "./isArray-79a0be9c.js";
import "./_baseIteratee-a353a961.js";
import "./_baseIsEqual-55697771.js";
import "./isSymbol-269a4c68.js";
import "./memoize-4ea0c857.js";
import "./toString-968993ce.js";
import "./_arrayMap-2bcec0e7.js";
var Le = ke(
  function (m, d, D) {
    m[D ? 0 : 1].push(d);
  },
  function () {
    return [[], []];
  }
);
const Be = Le,
  De = "/modules/bonus2/assets/bg-light-115a9148.png",
  Ee = "/modules/bonus2/assets/d-1-box-43867056.png",
  Ie = "/modules/bonus2/assets/d-1-l-f324b9fe.png",
  Fe = "/modules/bonus2/assets/d-1-m-8dfc7be0.png",
  Pe = "/modules/bonus2/assets/d-1-b26450d0.png",
  Ne = "/modules/bonus2/assets/d-2-box-0395581a.png",
  Te = "/modules/bonus2/assets/d-2-l-6ba4a072.png",
  Me = "/modules/bonus2/assets/d-2-m-bf206da0.png",
  Ae = "/modules/bonus2/assets/d-2-18e324d3.png",
  je = "/modules/bonus2/assets/d-3-box-c15095d8.png",
  Re = "/modules/bonus2/assets/d-3-l-07d6f62f.png",
  ze = "/modules/bonus2/assets/d-3-m-6a659fe5.png",
  He = "/modules/bonus2/assets/d-3-63590e37.png",
  Ve = "/modules/bonus2/assets/d-4-box-f5e64f9d.png",
  Oe = "/modules/bonus2/assets/d-4-l-227254a2.png",
  Ue = "/modules/bonus2/assets/d-4-m-613f0ce1.png",
  We = "/modules/bonus2/assets/d-4-d6bc6dc3.png",
  Xe = "/modules/bonus2/assets/exclusive-cacfe418.png",
  Ge = "/modules/bonus2/assets/hot-70f5f8d4.png",
  qe = "/modules/bonus2/assets/new-0e22eca2.png",
  Je = "/modules/bonus2/assets/step-i-f-fc26a955.png",
  Ke = "/modules/bonus2/assets/step-i-t-4b3271c5.png",
  Qe = "/modules/bonus2/assets/step-i-s-c36b403b.png",
  Ye = "/modules/bonus2/assets/step-i-t-4b3271c5.png";
var Ze = c('<div class="">'),
  et = c("<span class=text-primary>"),
  tt = c('<header class="text-base font-extrabold text-primary lg:text-lg">'),
  st = c('<div class="mt-3 flex flex-row flex-wrap rounded-lg lg:-mx-2">'),
  lt = c(
    '<div class=py-4><div class="center relative mb-3 overflow-hidden rounded-lg px-3.5 pb-20 pt-6 text-lg max-lg:flex-row max-lg:flex-wrap max-lg:bg-cover sm:mt-2.5 lg:h-64 lg:flex-wrap lg:justify-around lg:px-20 lg:py-3"><div class="max-lg:w-full lg:max-w-56"><div class="text-3xl font-extrabold text-primary lg:text-4xl"><span class=mr-2></span><span>% </span></div><div class="text-lg font-extrabold text-primary lg:font-semibold"></div><div class="center w-full justify-between px-5 text-lg font-extrabold max-sm:absolute max-sm:bottom-5 max-sm:left-0 lg:relative lg:mt-5 lg:block lg:px-0"></div></div><div class="center -mx-2 h-full flex-1 flex-row flex-wrap text-center max-lg:mt-2.5 max-lg:justify-around lg:w-4/6 lg:justify-end">'
  ),
  rt = c("<span class=text-alw_white>0"),
  nt = c(
    '<div><div class="relative rounded-xl bg-no-repeat max-lg:flex max-lg:flex-row-reverse lg:h-56 lg:pt-4"><div class="absolute left-2 top-2 w-8 max-lg:-top-2 max-lg:left-0 lg:w-10"><img class=""alt=""><div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-xs font-[900] text-primary"></div></div><img class="max-lg:w-[40%] lg:h-40"alt=""><div class="max-lg:flex max-lg:flex-col sm:justify-center"><div class="font-extrabold text-primary max-lg:text-sm max-sm:mt-auto sm:text-xl lg:-mt-4 lg:text-lg">% </div><div class="mb-1.5 inline-block rounded-md bg-layer4 px-2.5 py-0.5 text-xs font-semibold text-secondary sm:text-base lg:px-4 lg:py-1 lg:text-sm lg:leading-none">'
  ),
  ot = c(
    `<div><div class="relative block w-full overflow-hidden rounded-t-lg10 bg-layer3 after:block after:pt-[43%] after:content-['']"></div><div class="center justify-between rounded-bl-lg rounded-br-lg bg-layer3 p-3 pt-3"><div class="ellipsis w-[1px] flex-auto pr-2.5"><div class="ellipsis text-base font-extrabold text-primary"></div><div class="ellipsis ellipsis text-sm font-semibold text-secondary"><span></span><span class=ml-1></span></div></div><div class="">`
  ),
  at = c('<div class="absolute -top-1 right-2 z-10"><img class=w-12>');
const it = { HOT: Ge, NEW: qe, EXCLUSIVE: Xe },
  dt = () => fe().get("home/main/event-list/"),
  gt = (m) =>
    r(he, {
      get when() {
        return b.mobile;
      },
      get fallback() {
        return (() => {
          var d = Ze();
          return t(d, () => m.children), d;
        })();
      },
      get children() {
        return r(ve, {
          get class() {
            return we("headless-dialog text-transparent");
          },
          get title() {
            return (() => {
              var d = et();
              return t(d, () => l("Promotion")), d;
            })();
          },
          get children() {
            return m.children;
          },
        });
      },
    }),
  Et = () => {
    const [m, d] = B([]),
      [D, G] = B([]),
      [q] = _e(dt);
    ye(() => {
      var x;
      const [o, g] = Be(
        (x = q()) == null ? void 0 : x.eventList,
        ($) => !$.outDated
      );
      G(g), d(o);
    });
    const [E, J] = B(0),
      w = ue(),
      [a] = $e;
    W(() => a().rechargeValidNum > 3);
    const { isSpHost: K, isBzHost: Q } = me.getHostType(b.host),
      Y = [
        l("First Deposit"),
        l("Second Deposit"),
        l("Third Deposit"),
        l("Fourth Deposit"),
      ],
      Z = [
        l("1st Deposit"),
        l("2nd Deposit"),
        l("3rd Deposit"),
        l("4th Deposit"),
      ],
      ee = [Ee, Ne, je, Ve],
      te = [Je, Qe, Ye, Ke],
      se = [Pe, Ae, He, We],
      le = [Fe, Me, ze, Ue],
      re = [
        "linear-gradient(157.89deg, #FFB730 -1.83%, rgba(58, 65, 66, 0) 97.78%)",
        "linear-gradient(157.89deg, #8BFF30 -1.83%, rgba(139, 255, 48, 0) 97.78%)",
        "linear-gradient(157.89deg, #FF6230 -1.83%, rgba(255, 98, 48, 0) 97.78%)",
        "linear-gradient(157.89deg, #E037FF -1.83%, rgba(224, 55, 255, 0) 97.78%)",
      ],
      ne = [Ie, Te, Re, Oe],
      [oe, ae] = B(!1);
    window.addEventListener("resize", () => {
      const o = window.innerWidth;
      ae(o < 1024);
    });
    const ie = W(() => {
      var o, g;
      return [
        {
          ratio:
            (g = a().maxBonusRatio) == null
              ? void 0
              : g[
                  ((o = a()) == null ? void 0 : o.firstExpiredTime) > 0 ? 0 : 1
                ],
          index: 0,
        },
        { ratio: a().maxBonusRatio[2], index: 1 },
        { ratio: a().maxBonusRatio[3], index: 2 },
        { ratio: a().maxBonusRatio[4], index: 3 },
      ];
    });
    return r(gt, {
      get children() {
        var o = lt(),
          g = o.firstChild,
          x = g.firstChild,
          $ = x.firstChild,
          j = $.firstChild,
          R = j.nextSibling,
          de = R.firstChild,
          z = $.nextSibling,
          H = z.nextSibling,
          ge = x.nextSibling;
        return (
          t(
            o,
            r(A, {
              get when() {
                return !b.mobile;
              },
              get children() {
                var n = tt();
                return t(n, () => l("Promotion")), n;
              },
            }),
            g
          ),
          t(j, () => l("UP to")),
          t(
            R,
            () => {
              var n;
              return Math.round(
                ((n = a()) == null ? void 0 : n.maxBonusRatio[4]) * 100 || 0
              );
            },
            de
          ),
          t(z, () => l("Great Bonus For Every Deposit")),
          t(
            H,
            r(L, {
              class: "w-[48%] lg:w-auto lg:px-10",
              type: "brand",
              onClick: () => {
                w("/deposit");
              },
              get children() {
                return l("Deposit Now");
              },
            }),
            null
          ),
          t(
            H,
            r(L, {
              class:
                "w-[48%] border border-solid border-third bg-black_alpha5 text-primary lg:mt-2.5 lg:w-auto lg:px-10",
              onClick: () => {
                pe.push(() => r(Ce, {}));
              },
              get children() {
                return l("More Details");
              },
            }),
            null
          ),
          t(
            ge,
            r(X, {
              get each() {
                return ie();
              },
              children: (n, s) =>
                (() => {
                  var f = nt(),
                    i = f.firstChild,
                    p = i.firstChild,
                    _ = p.firstChild,
                    y = _.nextSibling,
                    h = p.nextSibling,
                    I = h.nextSibling,
                    u = I.firstChild,
                    F = u.firstChild,
                    P = u.nextSibling;
                  return (
                    (f.$$click = () => {
                      be.login || w("/login/signin"),
                        a().rechargeValidNum === s() && w("/deposit");
                    }),
                    i.style.setProperty("background-size", "100% 100%"),
                    t(
                      y,
                      r(A, {
                        get when() {
                          var e;
                          return (
                            ((e = a()) == null ? void 0 : e.rechargeValidNum) <=
                            s()
                          );
                        },
                        get fallback() {
                          return r(xe, { class: "w-4", name: "Check" });
                        },
                        get children() {
                          var e = rt();
                          return e.firstChild, t(e, () => s() + 1, null), e;
                        },
                      })
                    ),
                    t(u, () => Math.round((n.ratio || 0) * 100), F),
                    t(u, () => l("BONUS"), null),
                    t(
                      P,
                      (() => {
                        var e = S(() => !!b.mobile);
                        return () => (e() ? Z[s()] : Y[s()]);
                      })()
                    ),
                    k(
                      (e) => {
                        var C = {
                            "relative h-full flex-shrink-0 flex-grow-0 basis-[48.5%] cursor-pointer justify-center bg-no-repeat px-2 bg-h-100 max-lg:mb-2.5 lg:flex lg:h-56 lg:max-w-44 lg:basis-1/4 lg:basis-[1/4] lg:items-center":
                              !0,
                            "opacity-50": a().rechargeValidNum > s(),
                          },
                          v = oe()
                            ? T.darken
                              ? `url(${le[s()]})`
                              : re[s()]
                            : T.darken
                            ? `url(${se[s()]})`
                            : `url(${ne[s()]})`,
                          V = te[s()],
                          O = ee[s()];
                        return (
                          (e.e = U(f, C, e.e)),
                          v !== e.t &&
                            ((e.t = v) != null
                              ? i.style.setProperty("background-image", v)
                              : i.style.removeProperty("background-image")),
                          V !== e.a && N(_, "src", (e.a = V)),
                          O !== e.o && N(h, "src", (e.o = O)),
                          e
                        );
                      },
                      { e: void 0, t: void 0, a: void 0, o: void 0 }
                    ),
                    f
                  );
                })(),
            })
          ),
          t(
            o,
            r(A, {
              when: !K && !Q,
              get children() {
                return [
                  r(M, {
                    get value() {
                      return E();
                    },
                    class: "mt-3 h-10 w-full rounded-lg sm:w-64",
                    onChange: (n) => {
                      J(n);
                    },
                    get children() {
                      return [
                        r(M.TabItem, {
                          class: "hidden h-10 w-12 rounded-none",
                          get title() {
                            return l("Latest Promotion");
                          },
                        }),
                        r(M.TabItem, {
                          class: "hidden h-10",
                          get title() {
                            return l("Archived");
                          },
                        }),
                      ];
                    },
                  }),
                  (() => {
                    var n = st();
                    return (
                      t(
                        n,
                        r(X, {
                          get each() {
                            return S(() => E() === 0)() ? m() : D();
                          },
                          children: (s, f) =>
                            (() => {
                              var i = ot(),
                                p = i.firstChild,
                                _ = p.nextSibling,
                                y = _.firstChild,
                                h = y.firstChild,
                                I = h.nextSibling,
                                u = I.firstChild,
                                F = u.nextSibling,
                                P = y.nextSibling;
                              return (
                                (i.$$click = () => {
                                  w(`/promotion/${s.eventCode}`);
                                }),
                                t(
                                  i,
                                  (() => {
                                    var e = S(
                                      () =>
                                        (s == null ? void 0 : s.tag) !== "NONE"
                                    );
                                    return () =>
                                      e() &&
                                      (() => {
                                        var C = at(),
                                          v = C.firstChild;
                                        return (
                                          k(() => N(v, "src", it[s.tag])), C
                                        );
                                      })();
                                  })(),
                                  p
                                ),
                                t(
                                  p,
                                  r(Se, {
                                    class:
                                      "absolute bottom-0 top-0 block w-full rounded-md",
                                    get src() {
                                      return s.eventBgImg;
                                    },
                                    get width() {
                                      return b.mobile ? 1200 : 800;
                                    },
                                    alt: "",
                                  })
                                ),
                                t(h, () => s.title),
                                t(u, () => l("Ends")),
                                t(F, () =>
                                  new Date(s.liveEndTime).toLocaleString()
                                ),
                                t(
                                  P,
                                  (() => {
                                    var e = S(() => E() !== 0);
                                    return () =>
                                      e()
                                        ? r(L, {
                                            size: "m",
                                            class:
                                              "w-28 bg-layer5 text-primary",
                                            get children() {
                                              return l("Event End");
                                            },
                                          })
                                        : r(L, {
                                            size: "m",
                                            class:
                                              "w-28 bg-layer5 text-base font-extrabold text-brand",
                                            get children() {
                                              return l("In Progress");
                                            },
                                          });
                                  })()
                                ),
                                k((e) =>
                                  U(
                                    i,
                                    {
                                      "relative mb-4 w-full rounded-xl": !0,
                                      "max-h-42 px-2 lg:w-[33.33%]": !b.mobile,
                                    },
                                    e
                                  )
                                ),
                                i
                              );
                            })(),
                        })
                      ),
                      n
                    );
                  })(),
                ];
              },
            }),
            null
          ),
          k((n) =>
            (n = T.darken
              ? "linear-gradient(111.21deg, #D2EC27 -88.74%, #323738 46.65%)"
              : `url(${De})`) != null
              ? g.style.setProperty("background", n)
              : g.style.removeProperty("background")
          ),
          o
        );
      },
    });
  };
ce(["click"]);
export { Et as default };
